<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>

  <ul>
    <li class="chapter">Глава I
      <ul>
        <li class="subchapter">Глава <span class="num">1.1</span></li>
        <li class="subchapter">Глава <span class="num">1.2</span></li>
      </ul>
    </li>
  </ul>

  <script>
  (() => {
    if (!Element.prototype.closest) {

        Element.prototype.closest = function(css) {
            let node = this;
            let parents = document.querySelectorAll(css);

            while (node) {
                for(let i = 0; i < parents.length; i++) {
                    if (node == parents[i]) return node;
                }
                node = node.parentElement;
            }
            return null;
        };
    }
  })();

  let numberSpan = document.querySelector('.num');

  // ближайший элемент сверху подходящий под селектор li
  console.log(numberSpan.closest('li').className) // subchapter

  // ближайший элемент сверху подходящий под селектор .chapter
  console.log(numberSpan.closest('.chapter').tagName) // LI

  // ближайший элемент сверху, подходящий под селектор span
  // это сам numberSpan, так как поиск включает в себя сам элемент
  console.log(numberSpan.closest('span') === numberSpan) // true
  </script>

</body>

</html>